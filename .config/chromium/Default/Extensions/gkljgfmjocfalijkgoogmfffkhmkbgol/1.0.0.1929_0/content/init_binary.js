(function(){'use strict';var g=this,k=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},l=function(a){return"array"==k(a)},m=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},n=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},p=function(a,b){function c(){}c.prototype=b.prototype;a.ja=b.prototype;a.prototype=new c;a.Qb=function(a,c,f){for(var h=Array(arguments.length-2),q=2;q<arguments.length;q++)h[q-
2]=arguments[q];return b.prototype[c].apply(a,h)}};var aa;var ba=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ca=/&/g,da=/</g,ea=/>/g,fa=/"/g,ga=/'/g,ha=/\x00/g,ia=/[\x00&<>"']/,r=function(a,b){return a<b?-1:a>b?1:0};var ja=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if("string"==typeof a)return"string"==typeof b&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ka=function(a,b){b=ja(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c};var la=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},t=function(a){var b=ma,c;for(c in b)if(b[c]==a)return!0;return!1};var ma={Mb:"background",Nb:"content",o:"contextMenu",Ob:"inbox",Pb:"popup"},na=chrome.i18n.getMessage("2589922721133554326");var u=function(){this.f={};this.pa=this.pa.bind(this);chrome.runtime.onMessage.addListener(this.pa)};u.g=function(){return u.Ma?u.Ma:u.Ma=new u};u.prototype.za=function(){this.f={};chrome.runtime.onMessage.removeListener(this.pa)};var oa=function(a,b,c){la(b,function(a,b){this.listen("content",b,a.bind(c||void 0))},a)};u.prototype.Za=function(a,b){t(a)&&null!=this.f[a]&&(null!=b?l(this.f[a][b])&&(a=this.f[a],b in a&&delete a[b]):(b=this.f,a in b&&delete b[a]))};
u.prototype.listen=function(a,b,c){t(a)&&(a=this.f[a]=this.f[a]||{},a[b]=a[b]||[],a[b].push(c))};u.prototype.Ha=function(a,b,c){return t(a)&&null!=this.f[a]&&l(this.f[a][b])?ka(this.f[a][b],c):!1};u.prototype.send=function(a,b,c){b={target:a,action:b,data:c||{}};switch(a){case "content":a=pa(b);break;case "background":case "popup":a=qa(b);break;default:a=Promise.reject()}return a};
var qa=function(a){return new Promise(function(b){chrome.runtime.sendMessage(a,function(a){b(a)})})},pa=function(a){return new Promise(function(b){chrome.tabs.query({active:!0,currentWindow:!0},function(c){l(c)&&0!=c.length&&chrome.tabs.sendMessage(c[0].id,a,function(a){b(a)})})})};
u.prototype.pa=function(a,b,c){if(m(a)&&"target"in a&&"action"in a&&t(a.target)&&a.target in this.f&&a.action in this.f[a.target]){var d=a.data;a=this.f[a.target][a.action];for(var e=0;e<a.length;e++){var f=a[e];"function"==k(f)&&f.call(null,d,c,b)}}return!0};var v=function(){this.ca=this.ca;this.L=this.L};v.prototype.ca=!1;v.prototype.za=function(){this.ca||(this.ca=!0,this.C())};var w=function(a,b){a.ca?b.call(void 0):(a.L||(a.L=[]),a.L.push(b))};v.prototype.C=function(){if(this.L)for(;this.L.length;)this.L.shift()()};var x=function(a){a&&"function"==typeof a.za&&a.za()};var y=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ya=!1};y.prototype.preventDefault=function(){this.defaultPrevented=!0};var z=function(a){z[" "](a);return a};z[" "]=function(){};var A;a:{var ra=g.navigator;if(ra){var sa=ra.userAgent;if(sa){A=sa;break a}}A=""};var ta=-1!=A.indexOf("Opera"),B=-1!=A.indexOf("Trident")||-1!=A.indexOf("MSIE"),ua=-1!=A.indexOf("Edge"),E=-1!=A.indexOf("Gecko")&&!(-1!=A.toLowerCase().indexOf("webkit")&&-1==A.indexOf("Edge"))&&!(-1!=A.indexOf("Trident")||-1!=A.indexOf("MSIE"))&&-1==A.indexOf("Edge"),F=-1!=A.toLowerCase().indexOf("webkit")&&-1==A.indexOf("Edge"),va=function(){var a=g.document;return a?a.documentMode:void 0},G;
a:{var H="",I=function(){var a=A;if(E)return/rv\:([^\);]+)(\)|;)/.exec(a);if(ua)return/Edge\/([\d\.]+)/.exec(a);if(B)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(F)return/WebKit\/(\S+)/.exec(a);if(ta)return/(?:Version)[ \/]?(\S+)/.exec(a)}();I&&(H=I?I[1]:"");if(B){var J=va();if(null!=J&&J>parseFloat(H)){G=String(J);break a}}G=H}
var wa=G,xa={},K=function(a){var b;if(!(b=xa[a])){b=0;for(var c=ba(String(wa)).split("."),d=ba(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",q=d[f]||"",Xa=/(\d*)(\D*)/g,Ya=/(\d*)(\D*)/g;do{var C=Xa.exec(h)||["","",""],D=Ya.exec(q)||["","",""];if(0==C[0].length&&0==D[0].length)break;b=r(0==C[1].length?0:parseInt(C[1],10),0==D[1].length?0:parseInt(D[1],10))||r(0==C[2].length,0==D[2].length)||r(C[2],D[2])}while(0==b)}b=xa[a]=0<=b}return b},ya=g.document,za=ya&&
B?va()||("CSS1Compat"==ya.compatMode?parseInt(wa,10):5):void 0;var Aa=!B||9<=Number(za),Ba=B&&!K("9");!F||K("528");E&&K("1.9b")||B&&K("8")||ta&&K("9.5")||F&&K("528");E&&!K("8")||B&&K("9");var L=function(a,b){y.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.La=this.state=null;a&&this.init(a,b)};p(L,y);
L.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(E){var e;a:{try{z(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=F||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=F||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.La=a;a.defaultPrevented&&this.preventDefault()};
L.prototype.preventDefault=function(){L.ja.preventDefault.call(this);var a=this.La;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ba)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var M="closure_listenable_"+(1E6*Math.random()|0),Ca=0;var Da=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.na=!!d;this.oa=e;this.key=++Ca;this.removed=this.ma=!1},N=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.oa=null};var O=function(a){this.src=a;this.m={};this.ka=0};O.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.m[f];a||(a=this.m[f]=[],this.ka++);var h=P(a,b,d,e);-1<h?(b=a[h],c||(b.ma=!1)):(b=new Da(b,this.src,f,!!d,e),b.ma=c,a.push(b));return b};O.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.m))return!1;var e=this.m[a];b=P(e,b,c,d);return-1<b?(N(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.m[a],this.ka--),!0):!1};
var Q=function(a,b){var c=b.type;c in a.m&&ka(a.m[c],b)&&(N(b),0==a.m[c].length&&(delete a.m[c],a.ka--))};O.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.m)if(!a||c==a){for(var d=this.m[c],e=0;e<d.length;e++)++b,N(d[e]);delete this.m[c];this.ka--}return b};O.prototype.Ca=function(a,b,c,d){a=this.m[a.toString()];var e=-1;a&&(e=P(a,b,c,d));return-1<e?a[e]:null};var P=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.na==!!c&&f.oa==d)return e}return-1};var Ea="closure_lm_"+(1E6*Math.random()|0),Fa={},Ga=0,Ha=function(a,b,c,d,e){if(l(b))for(var f=0;f<b.length;f++)Ha(a,b[f],c,d,e);else if(c=Ia(c),a&&a[M])a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,h=R(a);h||(a[Ea]=h=new O(a));c=h.add(b,c,!1,d,e);if(!c.proxy){d=Ja();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(Ka(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Ga++}}},Ja=function(){var a=La,b=Aa?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Ma=function(a,b,c,d,e){if(l(b))for(var f=0;f<b.length;f++)Ma(a,b[f],c,d,e);else c=Ia(c),a&&a[M]?a.Ha(b,c,d,e):a&&(a=R(a))&&(b=a.Ca(b,c,!!d,e))&&Na(b)},Na=function(a){if("number"!=typeof a&&a&&!a.removed){var b=a.src;if(b&&b[M])Q(b.H,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.na):b.detachEvent&&b.detachEvent(Ka(c),
d);Ga--;(c=R(b))?(Q(c,a),0==c.ka&&(c.src=null,b[Ea]=null)):N(a)}}},Ka=function(a){return a in Fa?Fa[a]:Fa[a]="on"+a},Pa=function(a,b,c,d){var e=!0;if(a=R(a))if(b=a.m[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.na==c&&!f.removed&&(f=Oa(f,d),e=e&&!1!==f)}return e},Oa=function(a,b){var c=a.listener,d=a.oa||a.src;a.ma&&Na(a);return c.call(d,b)},La=function(a,b){if(a.removed)return!0;if(!Aa){if(!b)a:{b=["window","event"];for(var c=g,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;
break a}b=c}d=b;b=new L(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Ya&&0<=e;e--){b.currentTarget=d[e];var f=Pa(d[e],a,!0,b),c=c&&f}for(e=0;!b.Ya&&e<d.length;e++)b.currentTarget=d[e],f=Pa(d[e],a,!1,b),c=c&&f}return c}return Oa(a,new L(b,this))},R=function(a){a=a[Ea];return a instanceof O?a:null},
Qa="__closure_events_fn_"+(1E9*Math.random()>>>0),Ia=function(a){if("function"==k(a))return a;a[Qa]||(a[Qa]=function(b){return a.handleEvent(b)});return a[Qa]};var S=function(){v.call(this);this.H=new O(this)};p(S,v);S.prototype[M]=!0;S.prototype.addEventListener=function(a,b,c,d){Ha(this,a,b,c,d)};S.prototype.removeEventListener=function(a,b,c,d){Ma(this,a,b,c,d)};S.prototype.C=function(){S.ja.C.call(this);this.Za()};S.prototype.listen=function(a,b,c,d){return this.H.add(String(a),b,!1,c,d)};S.prototype.Ha=function(a,b,c,d){return this.H.remove(String(a),b,c,d)};S.prototype.Za=function(a){return this.H?this.H.removeAll(a):0};
var Ra=function(a){var b={},c=a.H.m.closeAllDialogs;if(c)for(var c=c.concat(),d=!0,e=0;e<c.length;++e){var f=c[e];if(f&&!f.removed&&0==f.na){var h=f.listener,q=f.oa||f.src;f.ma&&Q(a.H,f);d=!1!==h.call(q,b)&&d}}};S.prototype.Ca=function(a,b,c,d){return this.H.Ca(String(a),b,c,d)};var T=function(a){this.a=a;this.f={};this.da=new S;w(this,n(x,this.da))};p(T,v);T.prototype.hide=function(){this.a.style.display="none";this.a.style.opacity=0};T.prototype.focus=function(){null!=this.a&&this.a.focus()};
var Sa=function(a,b){a.f.transitionend||(a.f.transitionend=[]);a.a.addEventListener("transitionend",b,!1);a.f.transitionend.push(b)},U=function(a){a.f.transitionend&&(a.f.transitionend.forEach(function(a){this.a.removeEventListener("transitionend",a)}.bind(a)),a.f.transitionend=[])},Ta=function(a){U(a);new Promise(function(a){this.a.style.display="block";this.a.style.opacity=0;this.a.classList.add("fade");Sa(this,function(){U(this);this.a.classList.remove("fade");a()}.bind(this));setTimeout(function(){this.a.style.opacity=
1}.bind(this),10)}.bind(a))},Ua=function(a){U(a);return new Promise(function(a){Sa(this,function(){U(this);this.a.style.display="none";this.a.classList.remove("fade");a()}.bind(this));this.a.style.opacity=0;this.a.classList.add("fade")}.bind(a))};!E&&!B||B&&9<=Number(za)||E&&K("1.9.1");B&&K("9");var Va=function(a){this.mb=a||g.document||document};Va.prototype.createElement=function(a){return this.mb.createElement(a)};Va.prototype.appendChild=function(a,b){a.appendChild(b)};var Wa={},Za={},V=function(){throw Error("Do not instantiate directly");};V.prototype.ya=null;V.prototype.toString=function(){return this.content};var bb=function(a){a:{var b=a($a,void 0,void 0);a=(aa||(aa=new Va)).createElement("DIV");b=ab(b);a.innerHTML=b;if(1==a.childNodes.length&&(b=a.firstChild,1==b.nodeType)){a=b;break a}}return a},ab=function(a){if(!m(a))return String(a);if(a instanceof V){if(a.S===Wa)return a.content;if(a.S===Za)return a=a.content,ia.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(ca,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(da,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(ea,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(fa,"&quot;")),
-1!=a.indexOf("'")&&(a=a.replace(ga,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(ha,"&#0;"))),a}return"zSoyz"},$a={};B&&K(8);var W=function(){V.call(this)};p(W,V);W.prototype.S=Wa;var cb=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=new b(String(a));void 0!==d&&(a.ya=d);return a}}(W);(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=String(a);if(!a)return"";a=new b(a);void 0!==d&&(a.ya=d);return a}})(W);var db=function(){var a=chrome.i18n.getMessage("2377227431565624090"),b=chrome.i18n.getMessage("8061274182150179411");return cb(""+('<div class="dialogView errorDialogView" role="alertdialog" tabindex="0" aria-labeledby="dialogViewErrorQuestion"><div class="dialogViewContent visible"><div class="hbox content"><div class="mainIcon" aria-hidden="true"></div><div class="dialogContent flex1 vbox"><div class="question" id="dialogViewErrorQuestion"></div><div class="buttons hbox"><div class="flex1"></div><div class="button flatButton cancelButton" role="button" tabindex="0">'+
b+'</div><div class="button flatButton retryButton" role="button" tabindex="0">'+a+"</div></div></div></div></div></div>"))};var X=function(){var a=bb(db);T.call(this,a);this.hide();document.body.appendChild(a);this.ta=null;this.i=u.g();var a=this.a.querySelector(".retryButton"),b=this.a.querySelector(".cancelButton");null===a||a.addEventListener("click",this.Db.bind(this));null===b||b.addEventListener("click",this.j.bind(this));this.i.listen("content","notifyError",this.zb.bind(this))};p(X,T);X.prototype.qa=function(){this.i.send("background","openFrame");Ra(this.da);Ta(this);this.focus()};
X.prototype.B=function(){this.ta=null;Ua(this)};X.prototype.Db=function(){this.ta&&this.ta();this.B()};X.prototype.j=function(){this.ta=null;Ua(this).then(function(){this.i.send("background","closeFrame")}.bind(this))};X.prototype.zb=function(a,b){var c=this.a.querySelector(".retryButton");document.querySelector("div.question").innerText=null!=a.customErrorMessage?a.customErrorMessage:na;m(a)&&a.enableRetry?(this.ta=function(){b({retry:!0})},c.style.display="block"):(c.style.display="none",b());this.qa()};var eb=function(){var a=chrome.i18n.getMessage("5431760039276073005");return cb(""+('<div class="dialogView successDialogView" role="dialog" aria-live="polite" aria-labelledby="dialogViewMessage" tabindex="0"><div class="dialogViewContent"><div class="hbox center content"><div class="mainIcon"></div><h3 id="dialogViewMessage"></h3><div class="flex1"></div><div class="viewButton" role="button" aria-hidden="true">'+a+'</div></div><div id="p2" class="progressbar mdl-progress mdl-js-progress mdl-progress__indeterminate"></div></div></div>'))};var Y=function(){var a=bb(eb);T.call(this,a);this.hide();document.body.appendChild(a);this.G={Xa:a.querySelector(".progressbar"),text:a.querySelector(".content h3"),wa:a.querySelector(".viewButton")};this.i=u.g();this.W=null;this.ia="done";fb(this);null===this.G.wa||this.G.wa.addEventListener("click",this.l.bind(this),!0);this.a.addEventListener("mouseenter",this.xb.bind(this),!1);this.a.addEventListener("mouseleave",this.yb.bind(this),!1);oa(this.i,{notifyProgress:this.Ab,notifySuccess:this.Bb,hideDialog:this.wb},
this)};p(Y,T);var gb=chrome.i18n.getMessage("7479208200871972807"),hb=chrome.i18n.getMessage("4312916889979783833"),fb=function(a){"done"!=a.ia&&ib(a);a.ia="done";a.G.Xa.style.display="none";a.G.text.innerText=hb};Y.prototype.xb=function(){null===this.W||"done"!=this.ia||Z(this)};Y.prototype.yb=function(){"done"==this.ia&&ib(this)};Y.prototype.Ab=function(a,b){this.G.wa.style.display="none";Z(this);this.ia="progress";this.G.Xa.style.display="block";this.G.text.innerText=gb;this.qa();b()};
Y.prototype.Bb=function(a,b){this.G.wa.style.display="block";fb(this);this.qa();b()};Y.prototype.wb=function(a,b){var c;if(c=m(a))c=!(null!==a&&"animation"in a&&a.animation);c?this.hide():this.B();b()};var ib=function(a){null===a.W||Z(a);a.W=setTimeout(a.B.bind(a),5E3)},Z=function(a){null!==a.W&&(clearTimeout(a.W),a.W=null)};Y.prototype.qa=function(){this.i.send("background","openFrame");Ra(this.da);Ta(this);this.focus()};
Y.prototype.B=function(){Z(this);Ua(this).then(function(){this.i.send("background","closeFrame")}.bind(this))};Y.prototype.l=function(){this.i.send("background","viewClicked");this.B()};var jb=function(){this.c=new Y;w(this,n(x,this.c));this.b=new X;w(this,n(x,this.b));this.c.da.listen("closeAllDialogs",this.h.bind(this));this.b.da.listen("closeAllDialogs",this.h.bind(this))};p(jb,v);jb.prototype.h=function(){this.c.hide();this.b.hide()};document.addEventListener("DOMContentLoaded",function(){new jb;u.g().send("background","JsExecutionReady");document.documentElement.classList.add("bidi-"+("rtl"==chrome.i18n.getMessage("@@bidi_dir")?"rtl":"ltr"))});}).call(this);
