!function(){"use strict";angular.module("app.common").factory("notification",["$log","localize","constants",function(t,i,o){var n={show:function(n){if(!Utilities.isBackgroundContext())return void BrowserHandler.runtime.sendMessage({activity:o.ACTIVITY.NOTIFICATION.NAME,notification:n});var r;if(void 0!==n.buttons&&null!==n.buttons){r=[];for(var e=0;e<n.buttons.length;++e)r[e]={},r[e].title=i.getLocalizedString(n.buttons[e].title),r[e].iconUrl=n.buttons[e].iconUrl}BrowserHandler.notifications.clear(n.id,function(o){BrowserHandler.notifications.create(n.id,{iconUrl:"../assets/icon.png",imageUrl:n.imageUrl,message:i.getLocalizedString(n.message),priority:n.priority,progress:n.progress,title:"",type:n.type,buttons:r},function(i){(void 0===i||null===i)&&t.error("CreateNotificationError")})})}};return n}])}();