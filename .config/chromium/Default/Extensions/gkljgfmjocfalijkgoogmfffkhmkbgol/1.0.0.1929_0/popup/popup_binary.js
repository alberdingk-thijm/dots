(function(){'use strict';var g;var k=this,aa=function(a){a.g=function(){return a.Ma?a.Ma:a.Ma=new a}},m=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=
typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},n=function(a){return"array"==m(a)},p=function(a){return"string"==typeof a},ba=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ca=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},q=function(a,b){function c(){}c.prototype=
b.prototype;a.ja=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Qb=function(a,c,f){for(var h=Array(arguments.length-2),l=2;l<arguments.length;l++)h[l-2]=arguments[l];return b.prototype[c].apply(a,h)}};var da;var ea=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ma=function(a){if(!fa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ga,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ha,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ja,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(ka,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(la,"&#0;"));return a},ga=/&/g,ha=/</g,ia=/>/g,ja=/"/g,ka=/'/g,la=/\x00/g,fa=/[\x00&<>"']/,
na=function(a,b){return a<b?-1:a>b?1:0};var r=function(){this.Ea="";this.cb=oa};r.prototype.Ba=function(){return 1};var oa={};var pa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},qa=function(a,b){b=pa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},ra=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},sa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];
return c}return[]};var ta="StopIteration"in k?k.StopIteration:{message:"StopIteration",stack:""},ua=function(){};ua.prototype.next=function(){throw ta;};ua.prototype.fb=function(){return this};var t=function(a){var b=va,c;for(c in b)if(b[c]==a)return!0;return!1};var u=function(a,b){this.u={};this.h=[];this.la=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};u.prototype.T=function(){v(this);for(var a=[],b=0;b<this.h.length;b++)a.push(this.u[this.h[b]]);return a};u.prototype.ea=function(){v(this);return this.h.concat()};u.prototype.aa=function(a){return w(this.u,a)};
u.prototype.remove=function(a){return w(this.u,a)?(delete this.u[a],this.c--,this.la++,this.h.length>2*this.c&&v(this),!0):!1};var v=function(a){if(a.c!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];w(a.u,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.c!=a.h.length){for(var e={},c=b=0;b<a.h.length;)d=a.h[b],w(e,d)||(a.h[c++]=d,e[d]=1),b++;a.h.length=c}};g=u.prototype;g.get=function(a,b){return w(this.u,a)?this.u[a]:b};
g.set=function(a,b){w(this.u,a)||(this.c++,this.h.push(a),this.la++);this.u[a]=b};g.addAll=function(a){var b;if(a instanceof u)b=a.ea(),a=a.T();else{b=[];var c=0,d;for(d in a)b[c++]=d;c=[];d=0;for(var e in a)c[d++]=a[e];a=c}for(e=0;e<b.length;e++)this.set(b[e],a[e])};g.forEach=function(a,b){for(var c=this.ea(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new u(this)};
g.fb=function(a){v(this);var b=0,c=this.la,d=this,e=new ua;e.next=function(){if(c!=d.la)throw Error("The map has changed since the iterator was created");if(b>=d.h.length)throw ta;var e=d.h[b++];return a?e:d.u[e]};return e};var w=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,xa=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};var x=function(a,b){this.F=this.N=this.w="";this.U=null;this.K=this.I="";this.s=this.ob=!1;var c;a instanceof x?(this.s=void 0!==b?b:a.s,ya(this,a.w),c=a.N,y(this),this.N=c,za(this,a.F),Aa(this,a.U),Ba(this,a.I),Ca(this,a.v.clone()),a=a.K,y(this),this.K=a):a&&(c=String(a).match(wa))?(this.s=!!b,ya(this,c[1]||"",!0),a=c[2]||"",y(this),this.N=z(a),za(this,c[3]||"",!0),Aa(this,c[4]),Ba(this,c[5]||"",!0),Ca(this,c[6]||"",!0),a=c[7]||"",y(this),this.K=z(a)):(this.s=!!b,this.v=new A(null,0,this.s))};
x.prototype.toString=function(){var a=[],b=this.w;b&&a.push(B(b,Da,!0),":");var c=this.F;if(c||"file"==b)a.push("//"),(b=this.N)&&a.push(B(b,Da,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.U,null!=c&&a.push(":",String(c));if(c=this.I)this.F&&"/"!=c.charAt(0)&&a.push("/"),a.push(B(c,"/"==c.charAt(0)?Ea:Fa,!0));(c=this.v.toString())&&a.push("?",c);(c=this.K)&&a.push("#",B(c,Ga));return a.join("")};x.prototype.clone=function(){return new x(this)};
var ya=function(a,b,c){y(a);a.w=c?z(b,!0):b;a.w&&(a.w=a.w.replace(/:$/,""));return a},za=function(a,b,c){y(a);a.F=c?z(b,!0):b;return a},Aa=function(a,b){y(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.U=b}else a.U=null},Ba=function(a,b,c){y(a);a.I=c?z(b,!0):b;return a},Ca=function(a,b,c){y(a);b instanceof A?(a.v=b,a.v.Ga(a.s)):(c||(b=B(b,Ha)),a.v=new A(b,0,a.s))},y=function(a){if(a.ob)throw Error("Tried to modify a read-only Uri");};
x.prototype.Ga=function(a){this.s=a;this.v&&this.v.Ga(a);return this};
var z=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},B=function(a,b,c){return p(a)?(a=encodeURI(a).replace(b,Ia),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Ia=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Da=/[#\/\?@]/g,Fa=/[\#\?:]/g,Ea=/[\#\?]/g,Ha=/[\#\?@]/g,Ga=/#/g,A=function(a,b,c){this.c=this.b=null;this.o=a||null;this.s=!!c},C=function(a){a.b||(a.b=new u,a.c=0,a.o&&xa(a.o,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,
" ")),c)}))};g=A.prototype;g.add=function(a,b){C(this);this.o=null;a=D(this,a);var c=this.b.get(a);c||this.b.set(a,c=[]);c.push(b);this.c+=1;return this};g.remove=function(a){C(this);a=D(this,a);return this.b.aa(a)?(this.o=null,this.c-=this.b.get(a).length,this.b.remove(a)):!1};g.aa=function(a){C(this);a=D(this,a);return this.b.aa(a)};g.ea=function(){C(this);for(var a=this.b.T(),b=this.b.ea(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
g.T=function(a){C(this);var b=[];if(p(a))this.aa(a)&&(b=ra(b,this.b.get(D(this,a))));else{a=this.b.T();for(var c=0;c<a.length;c++)b=ra(b,a[c])}return b};g.set=function(a,b){C(this);this.o=null;a=D(this,a);this.aa(a)&&(this.c-=this.b.get(a).length);this.b.set(a,[b]);this.c+=1;return this};g.get=function(a,b){a=a?this.T(a):[];return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.o)return this.o;if(!this.b)return"";for(var a=[],b=this.b.ea(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.T(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.o=a.join("&")};g.clone=function(){var a=new A;a.o=this.o;this.b&&(a.b=this.b.clone(),a.c=this.c);return a};var D=function(a,b){b=String(b);a.s&&(b=b.toLowerCase());return b};
A.prototype.Ga=function(a){a&&!this.s&&(C(this),this.o=null,this.b.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.o=null,this.b.set(D(this,d),sa(a)),this.c+=a.length))},this));this.s=a};var Ja={19:"../images/ic_extension_active_19dp.png",38:"../images/ic_extension_active_38dp.png"},va={Mb:"background",Nb:"content",Pa:"contextMenu",Ob:"inbox",Pb:"popup"};chrome.i18n.getMessage("2589922721133554326");var E=function(){this.f={};this.pa=this.pa.bind(this);chrome.runtime.onMessage.addListener(this.pa)};aa(E);g=E.prototype;g.za=function(){this.f={};chrome.runtime.onMessage.removeListener(this.pa)};g.Za=function(a,b){t(a)&&null!=this.f[a]&&(null!=b?n(this.f[a][b])&&(a=this.f[a],b in a&&delete a[b]):(b=this.f,a in b&&delete b[a]))};g.listen=function(a,b,c){t(a)&&(a=this.f[a]=this.f[a]||{},a[b]=a[b]||[],a[b].push(c))};
g.Ha=function(a,b,c){return t(a)&&null!=this.f[a]&&n(this.f[a][b])?qa(this.f[a][b],c):!1};g.send=function(a,b,c){b={target:a,action:b,data:c||{}};switch(a){case "content":a=Ka(b);break;case "background":case "popup":a=La(b);break;default:a=Promise.reject()}return a};
var La=function(a){return new Promise(function(b){chrome.runtime.sendMessage(a,function(a){b(a)})})},Ka=function(a){return new Promise(function(b){chrome.tabs.query({active:!0,currentWindow:!0},function(c){n(c)&&0!=c.length&&chrome.tabs.sendMessage(c[0].id,a,function(a){b(a)})})})};
E.prototype.pa=function(a,b,c){if(ba(a)&&"target"in a&&"action"in a&&t(a.target)&&a.target in this.f&&a.action in this.f[a.target]){var d=a.data;a=this.f[a.target][a.action];for(var e=0;e<a.length;e++){var f=a[e];"function"==m(f)&&f.call(null,d,c,b)}}return!0};var F=function(){this.ca=this.ca;this.L=this.L};F.prototype.ca=!1;F.prototype.za=function(){this.ca||(this.ca=!0,this.C())};var Ma=function(a,b){a.ca?b.call(void 0):(a.L||(a.L=[]),a.L.push(b))};F.prototype.C=function(){if(this.L)for(;this.L.length;)this.L.shift()()};var Na=function(a){a&&"function"==typeof a.za&&a.za()};var Oa=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ya=!1};Oa.prototype.preventDefault=function(){this.defaultPrevented=!0};var Pa=function(a){Pa[" "](a);return a};Pa[" "]=function(){};var G;a:{var Qa=k.navigator;if(Qa){var Ra=Qa.userAgent;if(Ra){G=Ra;break a}}G=""};var Sa=-1!=G.indexOf("Opera"),H=-1!=G.indexOf("Trident")||-1!=G.indexOf("MSIE"),Ta=-1!=G.indexOf("Edge"),I=-1!=G.indexOf("Gecko")&&!(-1!=G.toLowerCase().indexOf("webkit")&&-1==G.indexOf("Edge"))&&!(-1!=G.indexOf("Trident")||-1!=G.indexOf("MSIE"))&&-1==G.indexOf("Edge"),J=-1!=G.toLowerCase().indexOf("webkit")&&-1==G.indexOf("Edge"),Ua=function(){var a=k.document;return a?a.documentMode:void 0},Va;
a:{var Wa="",Xa=function(){var a=G;if(I)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Ta)return/Edge\/([\d\.]+)/.exec(a);if(H)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(J)return/WebKit\/(\S+)/.exec(a);if(Sa)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Xa&&(Wa=Xa?Xa[1]:"");if(H){var Ya=Ua();if(null!=Ya&&Ya>parseFloat(Wa)){Va=String(Ya);break a}}Va=Wa}
var Za=Va,$a={},K=function(a){var b;if(!(b=$a[a])){b=0;for(var c=ea(String(Za)).split("."),d=ea(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"",Qb=/(\d*)(\D*)/g,Rb=/(\d*)(\D*)/g;do{var P=Qb.exec(h)||["","",""],Q=Rb.exec(l)||["","",""];if(0==P[0].length&&0==Q[0].length)break;b=na(0==P[1].length?0:parseInt(P[1],10),0==Q[1].length?0:parseInt(Q[1],10))||na(0==P[2].length,0==Q[2].length)||na(P[2],Q[2])}while(0==b)}b=$a[a]=0<=b}return b},ab=k.document,bb=
ab&&H?Ua()||("CSS1Compat"==ab.compatMode?parseInt(Za,10):5):void 0;var cb=!H||9<=Number(bb),db=H&&!K("9");!J||K("528");I&&K("1.9b")||H&&K("8")||Sa&&K("9.5")||J&&K("528");I&&!K("8")||H&&K("9");var eb=J?"webkitTransitionEnd":Sa?"otransitionend":"transitionend";var L=function(a,b){Oa.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.La=this.state=null;a&&this.init(a,b)};q(L,Oa);
L.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(I){var e;a:{try{Pa(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=J||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=J||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.La=a;a.defaultPrevented&&this.preventDefault()};
L.prototype.preventDefault=function(){L.ja.preventDefault.call(this);var a=this.La;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,db)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var M="closure_listenable_"+(1E6*Math.random()|0),fb=0;var gb=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.na=!!d;this.oa=e;this.key=++fb;this.removed=this.ma=!1},N=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.oa=null};var O=function(a){this.src=a;this.m={};this.ka=0};O.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.m[f];a||(a=this.m[f]=[],this.ka++);var h=hb(a,b,d,e);-1<h?(b=a[h],c||(b.ma=!1)):(b=new gb(b,this.src,f,!!d,e),b.ma=c,a.push(b));return b};O.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.m))return!1;var e=this.m[a];b=hb(e,b,c,d);return-1<b?(N(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.m[a],this.ka--),!0):!1};
var ib=function(a,b){var c=b.type;c in a.m&&qa(a.m[c],b)&&(N(b),0==a.m[c].length&&(delete a.m[c],a.ka--))};O.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.m)if(!a||c==a){for(var d=this.m[c],e=0;e<d.length;e++)++b,N(d[e]);delete this.m[c];this.ka--}return b};O.prototype.Ca=function(a,b,c,d){a=this.m[a.toString()];var e=-1;a&&(e=hb(a,b,c,d));return-1<e?a[e]:null};
var hb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.na==!!c&&f.oa==d)return e}return-1};var jb="closure_lm_"+(1E6*Math.random()|0),kb={},lb=0,mb=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)mb(a,b[f],c,d,e);else c=nb(c),a&&a[M]?a.listen(b,c,d,e):ob(a,b,c,!1,d,e)},ob=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,l=pb(a);l||(a[jb]=l=new O(a));c=l.add(b,c,d,e,f);if(!c.proxy){d=qb();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(rb(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
lb++}},qb=function(){var a=sb,b=cb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},tb=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)tb(a,b[f],c,d,e);else c=nb(c),a&&a[M]?a.H.add(String(b),c,!0,d,e):ob(a,b,c,!0,d,e)},ub=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)ub(a,b[f],c,d,e);else c=nb(c),a&&a[M]?a.Ha(b,c,d,e):a&&(a=pb(a))&&(b=a.Ca(b,c,!!d,e))&&vb(b)},vb=function(a){if("number"!=typeof a&&a&&!a.removed){var b=
a.src;if(b&&b[M])ib(b.H,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.na):b.detachEvent&&b.detachEvent(rb(c),d);lb--;(c=pb(b))?(ib(c,a),0==c.ka&&(c.src=null,b[jb]=null)):N(a)}}},rb=function(a){return a in kb?kb[a]:kb[a]="on"+a},xb=function(a,b,c,d){var e=!0;if(a=pb(a))if(b=a.m[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.na==c&&!f.removed&&(f=wb(f,d),e=e&&!1!==f)}return e},wb=function(a,b){var c=a.listener,d=a.oa||a.src;a.ma&&vb(a);return c.call(d,
b)},sb=function(a,b){if(a.removed)return!0;if(!cb){if(!b)a:{b=["window","event"];for(var c=k,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new L(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Ya&&0<=e;e--){b.currentTarget=d[e];var f=xb(d[e],a,!0,b),c=c&&f}for(e=0;!b.Ya&&e<d.length;e++)b.currentTarget=
d[e],f=xb(d[e],a,!1,b),c=c&&f}return c}return wb(a,new L(b,this))},pb=function(a){a=a[jb];return a instanceof O?a:null},yb="__closure_events_fn_"+(1E9*Math.random()>>>0),nb=function(a){if("function"==m(a))return a;a[yb]||(a[yb]=function(b){return a.handleEvent(b)});return a[yb]};var R=function(){F.call(this);this.H=new O(this)};q(R,F);R.prototype[M]=!0;g=R.prototype;g.addEventListener=function(a,b,c,d){mb(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){ub(this,a,b,c,d)};g.C=function(){R.ja.C.call(this);this.Za()};g.listen=function(a,b,c,d){return this.H.add(String(a),b,!1,c,d)};g.Ha=function(a,b,c,d){return this.H.remove(String(a),b,c,d)};g.Za=function(a){return this.H?this.H.removeAll(a):0};
var zb=function(a,b,c){if(b=a.H.m[String(b)]){b=b.concat();for(var d=!0,e=0;e<b.length;++e){var f=b[e];if(f&&!f.removed&&0==f.na){var h=f.listener,l=f.oa||f.src;f.ma&&ib(a.H,f);d=!1!==h.call(l,c)&&d}}}};R.prototype.Ca=function(a,b,c,d){return this.H.Ca(String(a),b,c,d)};var S=function(a){this.a=a;this.f={};this.da=new R;Ma(this,ca(Na,this.da))};q(S,F);S.prototype.focus=function(){null!=this.a&&this.a.focus()};S.prototype.l=function(a,b){13!=b.keyCode&&32!=b.keyCode||a(b)};var Bb=function(){this.Lb="";this.eb=Ab};Bb.prototype.Ba=function(){return 1};var Ab={};var Db=function(){this.Ea="";this.bb=Cb;this.kb=null};Db.prototype.Ba=function(){return this.kb};var Cb={};!I&&!H||H&&9<=Number(bb)||I&&K("1.9.1");H&&K("9");var Eb=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},Fb=function(a){this.mb=a||k.document||document};Fb.prototype.createElement=function(a){return this.mb.createElement(a)};Fb.prototype.appendChild=function(a,b){a.appendChild(b)};var Gb={},Hb={},Ib={},Jb={},T=function(){throw Error("Do not instantiate directly");};T.prototype.ya=null;T.prototype.toString=function(){return this.content};var Kb=function(){T.call(this)};q(Kb,T);var Nb=function(a,b){a:if(b=a(b||Lb,void 0,void 0),a=(da||(da=new Fb)).createElement("DIV"),b=Mb(b),a.innerHTML=b,1==a.childNodes.length&&(b=a.firstChild,1==b.nodeType)){a=b;break a}return a},Mb=function(a){if(!ba(a))return String(a);if(a instanceof T){if(a.S===Gb)return a.content;if(a.S===Jb)return ma(a.content)}return"zSoyz"},Lb={};H&&K(8);var Ob=function(a){if(null!=a)switch(a.ya){case 1:return 1;case -1:return-1;case 0:return 0}return null},Pb=function(){T.call(this)};q(Pb,T);Pb.prototype.S=Gb;var Sb=function(a){if(null==a||a.S!==Gb)if(a instanceof Db){var b=U,c;a instanceof Db&&a.constructor===Db&&a.bb===Cb?c=a.Ea:(m(a),c="type_error:SafeHtml");a=b(c,a.Ba())}else a=U(ma(String(String(a))),Ob(a));return a},Tb=function(a,b){this.content=String(a);this.ya=null!=b?b:null};q(Tb,Kb);Tb.prototype.S=Jb;
var U=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=new b(String(a));void 0!==d&&(a.ya=d);return a}}(Pb);(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=String(a);if(!a)return"";a=new b(a);void 0!==d&&(a.ya=d);return a}})(Pb);
var V=function(a){return null!=a&&a.S===Gb?String(String(a.content).replace(Ub,"").replace(Vb,"&lt;")).replace(Wb,Xb):ma(String(a))},W=function(a){null!=a&&a.S===Hb||null!=a&&a.S===Ib?a=String(a).replace(Yb,Zb):a instanceof r?(a instanceof r&&a.constructor===r&&a.cb===oa?a=a.Ea:(m(a),a="type_error:SafeUrl"),a=String(a).replace(Yb,Zb)):a instanceof Bb?(a instanceof Bb&&a.constructor===Bb&&a.eb===Ab?a=a.Lb:(m(a),a="type_error:TrustedResourceUrl"),a=String(a).replace(Yb,Zb)):(a=String(a),a=$b.test(a)?
a.replace(Yb,Zb):"about:invalid#zSoyz");return a},ac={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},Xb=function(a){return ac[a]},bc={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09",
"\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9",
"\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"},Zb=function(a){return bc[a]},Wb=/[\x00\x22\x27\x3c\x3e]/g,Yb=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,
$b=/^[^&:\/?#]*(?:[\/?#]|$)|^https?:|^data:image\/[a-z0-9+]+;base64,[a-z0-9+\/]+=*$|^blob:/i,Ub=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Vb=/</g;var cc=function(){var a="",b=chrome.i18n.getMessage("2418060633948551260"),c=chrome.i18n.getMessage("4471215475522532032"),d=chrome.i18n.getMessage("6244423405640900693"),e=chrome.i18n.getMessage("6244423405640900693"),f=chrome.i18n.getMessage("3126191544450185279"),h=chrome.i18n.getMessage("3126191544450185279"),a=a+('<div class="menuContent"><ul class="mainMenu menu" role="menu" tabindex="0" aria-labelledby="current_userAccount"><li id="save_button" class="item saveButton '+V("mdl-button mdl-js-button mdl-js-ripple-effect")+
'" role="menuitem" aria-labelledby="saveforlater-label" tabindex="0"><div class="hbox center fullHeight"><img src="'+V(W("../images"))+'/ic_bookmark_googblue_20dp.png" srcset="'+V("../images")+"/ic_bookmark_googblue_20dp.png 1x,"+V("../images")+'/ic_bookmark_googblue_20dp_2x.png 2x" class="icon icon-reminder" aria-hidden="true"/><span id="saveforlater-label" class="itemLabel" title="'+String(h).replace(Wb,Xb)+'">'+f+'</span></div></li><li id="share_button" class="item shareButton '+V("mdl-button mdl-js-button mdl-js-ripple-effect")+
'" role="menuitem" aria-labelledby="shareviaemail-label" tabindex="0"><div class="hbox center fullHeight"><img src="'+V(W("../images"))+'/ic_email_googblue_20dp.png" srcset="'+V("../images")+"/ic_email_googblue_20dp.png 1x,"+V("../images")+'/ic_email_googblue_20dp_2x.png 2x" class="icon icon-email" aria-hidden="true"/><span id="shareviaemail-label" class="itemLabel" title="'+String(e).replace(Wb,Xb)+'">'+d+'</span></div></li></ul><div class="controls"><div id="user_info" class="userInfo" role="button" tabindex="0" aria-label="'+
String(c).replace(Wb,Xb)+'"></div>'),b=(b=String(""+b))?new Tb(b,void 0):"",a=a+('<div class="openInboxButton '+V("mdl-button mdl-js-button mdl-js-ripple-effect")+'" role="button" tabindex="0" aria-label="'+V(b)+'" title="'+V(b)+'" aria-describedby="current_userAccount"><img class="actionIcon" aria-hidden="true" width="24" height="24" src="'+V(W("../images"))+'/logo_inbox_color_1x_web_24dp.png" srcset="'+V("../images")+'/logo_inbox_color_2x_web_24dp.png 2x"/></div></div></div>');return U(a)},dc=function(a){var b=
a.Ia,c=!!a.Oa;a=!!a.Na;b=""+(null!=b?(c?'<div class="a11yMessage" id="current_userAccount">'+Sb(b.Aa)+"</div>":"")+'<div aria-hidden="true" title="'+V(b.Aa)+'" class="userAccount hbox center '+(a?"selected":"")+'"><img src="'+V(W(b.hb))+'" class="userAccountAvatar" aria-hidden="true"/><div class="userAccountEmail">'+Sb(b.Aa)+'</div><div class="separator flex1"></div>'+(c?'<img class="userAccountSelector" aria-hidden="true" src="'+V(W("../images"))+'/keyboard_arrow_right_black_24dp.png"/>':"")+'<img class="userAccountSelected" aria-hidden="true" src="'+
V(W("../images"))+'/done_black_24dp.png"/></div>':"");return U(b)},ec=function(a,b,c){c=c||{};b=a.gb;a=a.selectedIndex;var d="",e=chrome.i18n.getMessage("6850612183875740961"),f=chrome.i18n.getMessage("5518107669733385158"),h=chrome.i18n.getMessage("8506886203287560438"),d=d+('<div class="accountListContent vbox"><div class="a11yMessage" id="account_menu_description">'+h+'</div><div class="hbox"><div class="backButton hbox center" role="button" tabindex="0"><div class="backButtonArrow" aria-hidden="true"></div><span>'+
f+'</span></div><div style="'+(c.jb?"/*"+c.jb+"*/":"")+'flex:1"></div></div><ul class="accountList" role="menu" tabindex="0" aria-describedby="account_menu_description">');c=b.length;for(f=0;f<c;f++)var h=b[f],l=h.ua==a,d=d+('<li class="item '+V("mdl-button mdl-js-button mdl-js-ripple-effect")+'" tabindex="0" role="menuitem" id="account-'+V(h.ua)+'" aria-label="'+V(h.Aa)+'" data-id="'+V(h.ua)+'"'+(l?'aria-selected="true"':"")+">"+dc({Ia:h,Oa:!1,Na:l})+"</li>");d+='</ul><div role="button" class="addAccountButton '+
V("mdl-button mdl-js-button mdl-js-ripple-effect")+'" tabindex="0"><div class="addAccountButtonLabel hbox center">'+e+"</div></div></div>";return U(d)};var X=function(){var a=document.createElement("div");a.setAttribute("id","accountListView");S.call(this,a);this.i=E.g();this.P=this.j=this.R=null;this.Ra=this.M.bind(this);this.Y=this.l.bind(this,this.M.bind(this));this.Sa=this.Z.bind(this);this.$=this.l.bind(this,this.Z.bind(this));this.ha=this.ga.bind(this);this.ia=this.l.bind(this,this.ga.bind(this))};q(X,S);g=X.prototype;
g.Z=function(){var a=chrome.i18n.getMessage("@@ui_locale"),b=Ba(za(ya(new x,"https"),"accounts.google.com"),"AccountChooser");/^[\s\xa0]*$/.test(null==a?"":String(a))||(y(b),b.v.set("hl",a));this.i.send("background","addAccountClicked");chrome.tabs.create({url:b.toString()})};
g.M=function(a){if(a.target){var b=null;a.target.matches(".accountList .item")?b=a.target:a.target.parentElement.matches(".accountList .item")&&(b=a.target.parentElement);null!==b&&(a=Number.parseInt(b.getAttribute("data-id"),10),zb(this.da,"accountSelected",a))}};g.ga=function(){zb(this.da,"backToMainMenu",{});this.i.send("background","backButtonClicked")};
g.xa=function(){null!==this.R&&(this.R.addEventListener("click",this.Sa,!1),this.R.addEventListener("keypress",this.$,!1),window.componentHandler.upgradeElement(this.R));null!==this.j&&(this.j.addEventListener("click",this.ha,!1),this.j.addEventListener("keypress",this.ia,!1));null!==this.P&&(this.P.addEventListener("click",this.Ra,!1),this.P.addEventListener("keypress",this.Y,!1),window.componentHandler.upgradeElement(this.P))};
g.sa=function(){null!==this.R&&(this.R.removeEventListener("click",this.Sa,!1),this.R.removeEventListener("keypress",this.$,!1));null!==this.j&&(this.j.removeEventListener("click",this.ha,!1),this.j.removeEventListener("keypress",this.ia,!1));null!==this.P&&(this.P.removeEventListener("click",this.Ra,!1),this.P.removeEventListener("keypress",this.Y,!1))};
g.G=function(a,b){a=Nb(ec,{gb:b,selectedIndex:null===a?null:a.ua});null!=a&&(this.sa(),Eb(this.a),this.a.appendChild(a));this.R=this.a.querySelector(".addAccountButton");this.j=this.a.querySelector(".backButton");this.P=this.a.querySelector(".accountList");this.xa();a=this.a.querySelectorAll(".accountList .item");if(null!==a)for(b=0;b<a.length;b++)window.componentHandler.upgradeElement(a[b])};g.refresh=function(a,b){this.G(a,b)};g.C=function(){this.sa();X.ja.C.call(this)};
g.focus=function(){null!=this.P?this.P.focus():X.ja.focus.call(this)};var fc={devel:"__bigtop_savetoinbox_devel_tunnel__"};fc.dogfood=fc.prod="__bigtop_savetoinbox_tunnel__";var gc=function(a){this.ab=a};gc.prototype.get=function(){return new Promise(function(a){chrome.tabs.get(this.ab,function(b){a(b)})}.bind(this))};gc.prototype.send=function(a,b){return new Promise(function(c){chrome.tabs.sendMessage(this.ab,{target:"content",action:a,data:b||null},function(a){c(a)})}.bind(this))};var hc=function(){return new Promise(function(a,b){chrome.tabs.query({active:!0,currentWindow:!0},function(c){n(c)&&0!=c.length?a(new gc(c[0].id)):b()})})};var Y=function(){var a=Nb(cc);a.setAttribute("id","menuView");S.call(this,a);this.ba=null;this.i=E.g();hc().then(function(a){this.ba=a}.bind(this));this.V=this.a.querySelector(".saveButton");this.$a=this.a.querySelector(".shareButton");this.D=this.a.querySelector("div.userInfo");this.A=this.a.querySelector("div.openInboxButton");this.Va=this.va.bind(this);this.wa=this.l.bind(this,this.va.bind(this));this.Wa=this.Da.bind(this);this.Ja=this.l.bind(this,this.Da.bind(this));this.Qa=this.W.bind(this);
this.X=this.l.bind(this,this.W.bind(this));this.ra=this.qa.bind(this);this.ta=this.l.bind(this,this.qa.bind(this));this.xa()};q(Y,S);var ic=chrome.i18n.getMessage("1117625363902086328");g=Y.prototype;g.va=function(){null!=this.ba&&this.ba.get().then(function(a){this.i.send("background","save",{url:a.url}).then(this.B.bind(this))}.bind(this))};g.Da=function(){null!=this.ba&&this.ba.get().then(function(a){this.i.send("background","share",{url:a.url,title:a.title||ic}).then(this.B.bind(this))}.bind(this))};
g.W=function(){zb(this.da,"showAccountList",{});this.i.send("background","changeAccountClicked")};g.qa=function(){this.i.send("background","openInboxTabForCurrentUser",{origin:"popup"})};g.B=function(){window.close()};g.refresh=function(a){a=null!=a?Nb(dc,{Ia:a,Oa:!0,Na:!1}):null;null!=a&&null!=this.D?(Eb(this.D),this.D.appendChild(a),this.a.classList.add("with-userInfo")):this.a.classList.remove("with-userInfo")};
g.xa=function(){null!==this.V&&(this.V.addEventListener("click",this.Va,!0),this.V.addEventListener("keypress",this.wa,!0));null!==this.$a&&(this.$a.addEventListener("click",this.Wa,!0),this.$a.addEventListener("keypress",this.Ja,!0));null!==this.D&&(this.D.addEventListener("click",this.Qa,!0),this.D.addEventListener("keypress",this.X,!0));null!==this.A&&(this.A.addEventListener("click",this.ra,!0),this.A.addEventListener("keypress",this.ta,!0))};
g.sa=function(){null!==this.V&&(this.V.removeEventListener("click",this.Va,!0),this.V.removeEventListener("keypress",this.wa,!0));null!==this.$a&&(this.$a.removeEventListener("click",this.Wa,!0),this.$a.removeEventListener("keypress",this.Ja,!0));null!==this.D&&(this.D.removeEventListener("click",this.Qa,!0),this.D.removeEventListener("keypress",this.X,!0));null!==this.A&&(this.A.removeEventListener("click",this.ra,!0),this.A.removeEventListener("keypress",this.ta,!0))};g.C=function(){this.sa();Y.ja.C.call(this)};
g.focus=function(){var a=this.a.querySelector(".mainMenu");null!=a?a.focus():Y.ja.focus.call(this)};var Z=function(){var a=document.createElement("div");a.setAttribute("id","popupView");S.call(this,a);this.i=E.g();chrome.extension.connect({name:"popup-background-tunnel"});this.fa=new Y;Ma(this,ca(Na,this.fa));this.O=new X;Ma(this,ca(Na,this.O));if(null!=this.a){var b=this.fa;null!=b.a&&this.a.appendChild(b.a);b=this.O;null!=b.a&&this.a.appendChild(b.a)}this.J=this.fa;this.fa.focus();this.fa.da.listen("showAccountList",this.Jb.bind(this));this.O.da.listen("accountSelected",this.sb.bind(this));this.O.da.listen("backToMainMenu",
this.Ka.bind(this));chrome.browserAction.setIcon({path:Ja});this.Ta=this.Cb.bind(this);this.i.listen("popup","refreshAccountsInfo",this.Ta);this.i.send("background","requestAccountsInfo").then(this.Fa.bind(this));b=chrome.i18n.getMessage("@@ui_locale");document.documentElement.setAttribute("lang",b);document.documentElement.classList.add("bidi-"+("rtl"==chrome.i18n.getMessage("@@bidi_dir")?"rtl":"ltr"));document.body.appendChild(a)};q(Z,S);aa(Z);g=Z.prototype;
g.Fa=function(a){void 0!==a.current&&null!=a.all&&(this.fa.refresh(a.current),this.O.refresh(a.current,a.all));this.G()};g.Cb=function(a,b){this.Fa(a);b()};g.sb=function(a){this.i.send("background","selectAccount",{sessionIndex:a}).then(function(a){this.Fa(a);this.Ka()}.bind(this))};g.Jb=function(){jc(this)};
g.Ka=function(){tb(this.a,eb,function(){this.fa.focus();this.a.classList.remove("sliding")}.bind(this));this.a.classList.add("sliding");this.a.classList.remove("showAccountListView");kc(this,this.fa)};var jc=function(a){tb(a.a,eb,function(){this.O.focus();this.a.classList.remove("sliding")}.bind(a));a.a.classList.add("sliding");a.a.classList.add("showAccountListView");kc(a,a.O)},kc=function(a,b){a.J=b;a.G()};
Z.prototype.G=function(){setTimeout(function(){var a=this.J;document.body.style.minHeight=null!=a.a?a.a.offsetHeight:0}.bind(this),0)};Z.prototype.C=function(){this.i.Ha("popup","refreshAccountsInfo",this.Ta);Z.ja.C.call(this)};document.addEventListener("DOMContentLoaded",function(){Z.g()});}).call(this);
